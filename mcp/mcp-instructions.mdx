---
title: "MCP Instructions"
description: "Instructions for using the MCP server and tooling in Pickaxe."
---

This document is designed to be read by an LLM using the Pickaxe MCP server.

# Creating an Agent

## Step 1: Planning

Before creating an agent, you will need to figure out the agent's name and function, along with any tools it will use. Existing tools can be found in the `./src/tools` directory, or can be queried from the MCP server using the `list_tools` command. Existing agents can be found in the `./src/agents` directory, or can be queried from the MCP server using the `list_agents` command.

When figuring out the agent's name and tool calls, consult the reference documentation on creating agents, which can be found in the following docs:

- [Agents](https://pickaxe.hatchet.run/concepts/agents.md)
- [Toolbox](https://pickaxe.hatchet.run/concepts/toolbox.md)
- [Tools](https://pickaxe.hatchet.run/concepts/tools.md)
- [Agent API Reference](https://pickaxe.hatchet.run/api-reference/agent.md)
- [Tool API Reference](https://pickaxe.hatchet.run/api-reference/tool.md)
- [Toolbox API Reference](https://pickaxe.hatchet.run/api-reference/toolbox.md)

IMPORTANT: **make note of the best practices for agents, as this will inform the design of the tool calls**.

## Step 2: Creating Tools

After figuring out the list of tools and agents you want to use, you should start by creating all tools and implement their business logic. To create a tool, you can use the Pickaxe MCP tool called `create_tool`. This creates a new tool with a specified name and description. This will create the boilerplate for a new tool in the `./src/tools` directory, but importantly, this will not implement the tool logic itself.

After tools have been created, make sure that they are resilient to failure and are set up to retry if they fail. Make special note of the execution and scheduling timeouts. If a tool takes a long time to execute, you may want to increase the timeout to avoid the tool being killed prematurely. The default timeout is 60 seconds.

Tools should be idempotent, meaning that there should not be unexpected side effects if a tool is called multiple times with the same input. This is important for ensuring that tools can be retried without causing issues.

Make sure that tools are thoroughly tested using the user's existing testing framework. It is very important that tools are reliable so that the agent can be reliable.

## Step 3: Creating an Agent

To create an agent, you can use the Pickaxe MCP tool called `create_agent`. This creates a new agent with a specified name and description. This will create the boilerplate for a new agent in the ./src/agents directory, but importantly, this will not implement the agent logic itself.

You will need to implement the agent logic in the newly created agent file. The agent should call the tools you created in Step 2, and should follow the best practices for agents outlined in the documentation.

MOST IMPORTANTLY, the agent should be stateless and have no side effects. This means that the agent should not maintain any internal state between calls, and its output should be solely determined by the input it receives and the tools it calls. The agent should only call methods which have been documented in the Pickaxe documentation as durable, such as `waitFor`, `run`, and `runNoWait`.
